<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1153px" preserveAspectRatio="none" style="width:1006px;height:1153px;background:#FFFFFF;" version="1.1" viewBox="0 0 1006 1153" width="1006px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" style="stroke:none;stroke-width:1.0;" width="194" x="404.625" y="15"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="184" x="409.625" y="32.9951">Credential Verification</text><ellipse cx="134.3125" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="181" x="43.8125" y="87.2969"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="129" x="53.8125" y="108.4355">VC SetCredential with</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="76" x="53.8125" y="122.4043">Credential</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="81" x="133.8125" y="122.4043">as parameter</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="148" x="60.3125" y="155.2344"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="41" x="70.3125" y="176.373">Extract</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="0" x="115.3125" y="176.373"/><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="83" x="115.3125" y="176.373">Subject DID</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="93" x="70.3125" y="190.3418">from Credential</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="178" x="45.3125" y="223.1719"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="48" x="55.3125" y="244.3105">Resolve</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="19" x="107.3125" y="244.3105">the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="83" x="130.3125" y="244.3105">Subject DID</text><polygon fill="#FEFECE" points="83.8125,277.1406,184.8125,277.1406,196.8125,289.1406,184.8125,301.1406,83.8125,301.1406,71.8125,289.1406,83.8125,277.1406" style="stroke:#222222;stroke-width:1.5;"/><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="101" x="83.8125" y="292.9487">Can be resolved?</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="14" x="57.8125" y="286.5464">no</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="21" x="196.8125" y="286.5464">yes</text><rect fill="#FFC0CB" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="50" x="11" y="311.1406"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="30" x="21" y="332.2793">Error</text><ellipse cx="36" cy="389.0781" fill="#FFFFFF" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="29.8128" x2="42.1872" y1="382.8909" y2="395.2653"/><line style="stroke:#222222;stroke-width:2.5;" x1="42.1872" x2="29.8128" y1="382.8909" y2="395.2653"/><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="161" x="152.125" y="311.1406"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="41" x="162.125" y="332.2793">Extract</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="19" x="207.125" y="332.2793">the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="73" x="230.125" y="332.2793">Issuer DID</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="93" x="162.125" y="346.248">from Credential</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="168" x="148.625" y="393.0469"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="48" x="158.625" y="414.1855">Resolve</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="19" x="210.625" y="414.1855">the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="73" x="233.625" y="414.1855">Issuer DID</text><polygon fill="#FEFECE" points="182.125,447.0156,283.125,447.0156,295.125,459.0156,283.125,471.0156,182.125,471.0156,170.125,459.0156,182.125,447.0156" style="stroke:#222222;stroke-width:1.5;"/><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="101" x="182.125" y="462.8237">Can be resolved?</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="14" x="156.125" y="456.4214">no</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="21" x="295.125" y="456.4214">yes</text><rect fill="#FFC0CB" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="50" x="91" y="481.0156"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="30" x="101" y="502.1543">Error</text><ellipse cx="116" cy="558.9531" fill="#FFFFFF" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="109.8128" x2="122.1872" y1="552.7659" y2="565.1403"/><line style="stroke:#222222;stroke-width:2.5;" x1="122.1872" x2="109.8128" y1="552.7659" y2="565.1403"/><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="113" x="292.75" y="481.0156"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="41" x="302.75" y="502.1543">Extract</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="0" x="347.75" y="502.1543"/><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="41" x="347.75" y="502.1543">Proof</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="93" x="302.75" y="516.123">from Credential</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="137" x="280.75" y="562.9219"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="41" x="290.75" y="584.0605">Extract</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="0" x="335.75" y="584.0605"/><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72" x="335.75" y="584.0605">Signature</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="63" x="290.75" y="598.0293">from Proof</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="278" x="210.25" y="630.8594"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="41" x="220.25" y="651.998">Extract</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="0" x="265.25" y="651.998"/><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="213" x="265.25" y="651.998">Verification Method ID (VmID)</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="63" x="220.25" y="665.9668">from Proof</text><rect fill="#FFFFFF" height="61.9063" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="269" x="214.75" y="698.7969"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="77" x="224.75" y="719.9355">Dereference</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="19" x="305.75" y="719.9355">the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="145" x="328.75" y="719.9355">Verification Method</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="181" x="224.75" y="733.9043">from the Issuer DID document</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="55" x="224.75" y="747.873">using the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="35" x="283.75" y="747.873">VmID</text><polygon fill="#FEFECE" points="284.25,780.7031,414.25,780.7031,426.25,792.7031,414.25,804.7031,284.25,804.7031,272.25,792.7031,284.25,780.7031" style="stroke:#222222;stroke-width:1.5;"/><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="130" x="284.25" y="796.5112">Can be dereferenced?</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="14" x="258.25" y="790.1089">no</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="21" x="426.25" y="790.1089">yes</text><rect fill="#FFC0CB" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="50" x="171" y="814.7031"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="30" x="181" y="835.8418">Error</text><ellipse cx="196" cy="893.6719" fill="#FFFFFF" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="189.8128" x2="202.1872" y1="887.4847" y2="899.8591"/><line style="stroke:#222222;stroke-width:2.5;" x1="202.1872" x2="189.8128" y1="887.4847" y2="899.8591"/><polygon fill="#FEFECE" points="298,814.7031,707,814.7031,719,826.7031,707,838.7031,298,838.7031,286,826.7031,298,814.7031" style="stroke:#222222;stroke-width:1.5;"/><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="409" x="298" y="830.5112">VerificationRelationships(VmID) ∩ (Authentication,AssertionMethod) ≠ ∅</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="14" x="272" y="824.1089">no</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="21" x="719" y="824.1089">yes</text><rect fill="#FFC0CB" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="50" x="251" y="848.7031"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="30" x="261" y="869.8418">Error</text><ellipse cx="276" cy="927.6719" fill="#FFFFFF" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="269.8128" x2="282.1872" y1="921.4847" y2="933.8591"/><line style="stroke:#222222;stroke-width:2.5;" x1="282.1872" x2="269.8128" y1="921.4847" y2="933.8591"/><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="210" x="624" y="848.7031"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="41" x="634" y="869.8418">Extract</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="19" x="679" y="869.8418">the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="122" x="702" y="869.8418">Issuer Public Key</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="171" x="634" y="883.8105">from the Verification Method</text><polygon fill="#FEFECE" points="676,931.6406,782,931.6406,794,943.6406,782,955.6406,676,955.6406,664,943.6406,676,931.6406" style="stroke:#222222;stroke-width:1.5;"/><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="106" x="676" y="947.4487">Can be extracted?</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="14" x="650" y="941.0464">no</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="21" x="794" y="941.0464">yes</text><rect fill="#FFC0CB" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="50" x="609.25" y="965.6406"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="30" x="619.25" y="986.7793">Error</text><ellipse cx="634.25" cy="1029.6094" fill="#FFFFFF" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="628.0628" x2="640.4372" y1="1023.4222" y2="1035.7966"/><line style="stroke:#222222;stroke-width:2.5;" x1="640.4372" x2="628.0628" y1="1023.4222" y2="1035.7966"/><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="154" x="746.75" y="965.6406"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="35" x="756.75" y="986.7793">Verify</text><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="19" x="795.75" y="986.7793">the</text><text fill="#000000" font-family="sans" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72" x="818.75" y="986.7793">Signature</text><polygon fill="#FEFECE" points="736.25,1019.6094,911.25,1019.6094,923.25,1031.6094,911.25,1043.6094,736.25,1043.6094,724.25,1031.6094,736.25,1019.6094" style="stroke:#222222;stroke-width:1.5;"/><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="175" x="736.25" y="1035.4175">Signature matches Public key?</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="14" x="710.25" y="1029.0151">no</text><text fill="#000000" font-family="sans" font-size="11" lengthAdjust="spacing" textLength="21" x="923.25" y="1029.0151">yes</text><rect fill="#FFC0CB" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="50" x="689.25" y="1053.6094"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="30" x="699.25" y="1074.748">Error</text><ellipse cx="714.25" cy="1117.5781" fill="#FFFFFF" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="708.0628" x2="720.4372" y1="1111.3909" y2="1123.7653"/><line style="stroke:#222222;stroke-width:2.5;" x1="720.4372" x2="708.0628" y1="1111.3909" y2="1123.7653"/><rect fill="#98FB98" height="33.9688" rx="12.5" ry="12.5" style="stroke:#222222;stroke-width:1.5;" width="124" x="871.25" y="1053.6094"/><text fill="#000000" font-family="sans" font-size="12" lengthAdjust="spacing" textLength="104" x="881.25" y="1074.748">Persist credential</text><ellipse cx="933.25" cy="1118.5781" fill="#FFFFFF" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="933.25" cy="1118.5781" fill="#222222" rx="6" ry="6" style="stroke:#909090;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="134.3125" x2="134.3125" y1="67.2969" y2="87.2969"/><polygon fill="#222222" points="130.3125,77.2969,134.3125,87.2969,138.3125,77.2969,134.3125,81.2969" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="134.3125" x2="134.3125" y1="135.2344" y2="155.2344"/><polygon fill="#222222" points="130.3125,145.2344,134.3125,155.2344,138.3125,145.2344,134.3125,149.2344" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="134.3125" x2="134.3125" y1="203.1719" y2="223.1719"/><polygon fill="#222222" points="130.3125,213.1719,134.3125,223.1719,138.3125,213.1719,134.3125,217.1719" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="36" x2="36" y1="345.1094" y2="379.0781"/><polygon fill="#222222" points="32,369.0781,36,379.0781,40,369.0781,36,373.0781" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="232.625" x2="232.625" y1="359.0781" y2="393.0469"/><polygon fill="#222222" points="228.625,383.0469,232.625,393.0469,236.625,383.0469,232.625,387.0469" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="116" x2="116" y1="514.9844" y2="548.9531"/><polygon fill="#222222" points="112,538.9531,116,548.9531,120,538.9531,116,542.9531" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="349.25" x2="349.25" y1="528.9531" y2="562.9219"/><polygon fill="#222222" points="345.25,552.9219,349.25,562.9219,353.25,552.9219,349.25,556.9219" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="349.25" x2="349.25" y1="610.8594" y2="630.8594"/><polygon fill="#222222" points="345.25,620.8594,349.25,630.8594,353.25,620.8594,349.25,624.8594" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="349.25" x2="349.25" y1="678.7969" y2="698.7969"/><polygon fill="#222222" points="345.25,688.7969,349.25,698.7969,353.25,688.7969,349.25,692.7969" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="196" x2="196" y1="848.6719" y2="883.6719"/><polygon fill="#222222" points="192,873.6719,196,883.6719,200,873.6719,196,877.6719" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="276" x2="276" y1="882.6719" y2="917.6719"/><polygon fill="#222222" points="272,907.6719,276,917.6719,280,907.6719,276,911.6719" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="634.25" x2="634.25" y1="999.6094" y2="1019.6094"/><polygon fill="#222222" points="630.25,1009.6094,634.25,1019.6094,638.25,1009.6094,634.25,1013.6094" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="714.25" x2="714.25" y1="1087.5781" y2="1107.5781"/><polygon fill="#222222" points="710.25,1097.5781,714.25,1107.5781,718.25,1097.5781,714.25,1101.5781" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="933.25" x2="933.25" y1="1087.5781" y2="1107.5781"/><polygon fill="#222222" points="929.25,1097.5781,933.25,1107.5781,937.25,1097.5781,933.25,1101.5781" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="724.25" x2="714.25" y1="1031.6094" y2="1031.6094"/><line style="stroke:#222222;stroke-width:1.5;" x1="714.25" x2="714.25" y1="1031.6094" y2="1053.6094"/><polygon fill="#222222" points="710.25,1043.6094,714.25,1053.6094,718.25,1043.6094,714.25,1047.6094" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="923.25" x2="933.25" y1="1031.6094" y2="1031.6094"/><line style="stroke:#222222;stroke-width:1.5;" x1="933.25" x2="933.25" y1="1031.6094" y2="1053.6094"/><polygon fill="#222222" points="929.25,1043.6094,933.25,1053.6094,937.25,1043.6094,933.25,1047.6094" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="823.75" x2="823.75" y1="999.6094" y2="1019.6094"/><polygon fill="#222222" points="819.75,1009.6094,823.75,1019.6094,827.75,1009.6094,823.75,1013.6094" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="664" x2="634.25" y1="943.6406" y2="943.6406"/><line style="stroke:#222222;stroke-width:1.5;" x1="634.25" x2="634.25" y1="943.6406" y2="965.6406"/><polygon fill="#222222" points="630.25,955.6406,634.25,965.6406,638.25,955.6406,634.25,959.6406" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="794" x2="823.75" y1="943.6406" y2="943.6406"/><line style="stroke:#222222;stroke-width:1.5;" x1="823.75" x2="823.75" y1="943.6406" y2="965.6406"/><polygon fill="#222222" points="819.75,955.6406,823.75,965.6406,827.75,955.6406,823.75,959.6406" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="729" x2="729" y1="896.6406" y2="931.6406"/><polygon fill="#222222" points="725,921.6406,729,931.6406,733,921.6406,729,925.6406" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="286" x2="276" y1="826.7031" y2="826.7031"/><line style="stroke:#222222;stroke-width:1.5;" x1="276" x2="276" y1="826.7031" y2="848.7031"/><polygon fill="#222222" points="272,838.7031,276,848.7031,280,838.7031,276,842.7031" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="719" x2="729" y1="826.7031" y2="826.7031"/><line style="stroke:#222222;stroke-width:1.5;" x1="729" x2="729" y1="826.7031" y2="848.7031"/><polygon fill="#222222" points="725,838.7031,729,848.7031,733,838.7031,729,842.7031" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="272.25" x2="196" y1="792.7031" y2="792.7031"/><line style="stroke:#222222;stroke-width:1.5;" x1="196" x2="196" y1="792.7031" y2="814.7031"/><polygon fill="#222222" points="192,804.7031,196,814.7031,200,804.7031,196,808.7031" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="426.25" x2="502.5" y1="792.7031" y2="792.7031"/><line style="stroke:#222222;stroke-width:1.5;" x1="502.5" x2="502.5" y1="792.7031" y2="814.7031"/><polygon fill="#222222" points="498.5,804.7031,502.5,814.7031,506.5,804.7031,502.5,808.7031" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="349.25" x2="349.25" y1="760.7031" y2="780.7031"/><polygon fill="#222222" points="345.25,770.7031,349.25,780.7031,353.25,770.7031,349.25,774.7031" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="170.125" x2="116" y1="459.0156" y2="459.0156"/><line style="stroke:#222222;stroke-width:1.5;" x1="116" x2="116" y1="459.0156" y2="481.0156"/><polygon fill="#222222" points="112,471.0156,116,481.0156,120,471.0156,116,475.0156" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="295.125" x2="349.25" y1="459.0156" y2="459.0156"/><line style="stroke:#222222;stroke-width:1.5;" x1="349.25" x2="349.25" y1="459.0156" y2="481.0156"/><polygon fill="#222222" points="345.25,471.0156,349.25,481.0156,353.25,471.0156,349.25,475.0156" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="232.625" x2="232.625" y1="427.0156" y2="447.0156"/><polygon fill="#222222" points="228.625,437.0156,232.625,447.0156,236.625,437.0156,232.625,441.0156" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="71.8125" x2="36" y1="289.1406" y2="289.1406"/><line style="stroke:#222222;stroke-width:1.5;" x1="36" x2="36" y1="289.1406" y2="311.1406"/><polygon fill="#222222" points="32,301.1406,36,311.1406,40,301.1406,36,305.1406" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="196.8125" x2="232.625" y1="289.1406" y2="289.1406"/><line style="stroke:#222222;stroke-width:1.5;" x1="232.625" x2="232.625" y1="289.1406" y2="311.1406"/><polygon fill="#222222" points="228.625,301.1406,232.625,311.1406,236.625,301.1406,232.625,305.1406" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.5;" x1="134.3125" x2="134.3125" y1="257.1406" y2="277.1406"/><polygon fill="#222222" points="130.3125,267.1406,134.3125,277.1406,138.3125,267.1406,134.3125,271.1406" style="stroke:#222222;stroke-width:1.0;"/><rect fill="none" height="11.6406" style="stroke:none;stroke-width:1.0;" width="295" x="354.125" y="1128.5781"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="295" x="354.125" y="1137.8604">Cosmos Cash: https://github.com/allinbits/cosmos-cash</text><!--MD5=[92769251b56b6b46eb02ac1ef94a7c96]
@startuml
title Credential Verification
footer Cosmos Cash: https://github.com/allinbits/cosmos-cash

<style>
activityDiagram {
  LineColor #222
  FontName sans
}
</style>
skinparam monochrome false
skinparam shadowing false

start
#white:VC SetCredential with
**Credential** as parameter;
#white:__Extract__ **Subject DID**
from Credential;
#white:__Resolve__ the **Subject DID**;
if (Can be resolved?) then (no)
    #pink:Error;
    end
else (yes)
    #white:__Extract__ the **Issuer DID**
    from Credential;
    #white:__Resolve__ the **Issuer DID**;
    if (Can be resolved?) then (no)
        #pink:Error;
        end
    else (yes)
        #white:__Extract__ **Proof**
        from Credential;
        #white:__Extract__ **Signature**
        from Proof;
        #white:__Extract__ **Verification Method ID (VmID)**
        from Proof;
        #white:__Dereference__ the **Verification Method**
        from the Issuer DID document
        using the **VmID**;
        if (Can be dereferenced?) then (no)
            #pink:Error;
            end
        else (yes)
            if (VerificationRelationships(VmID) ∩ (Authentication,AssertionMethod) ≠ ∅) then (no)
                #pink:Error;
                end
            else (yes)
                #white:__Extract__ the **Issuer Public Key**
                from the Verification Method;
                if (Can be extracted?) then (no)
                    #pink:Error;
                    end
                else (yes)
                   #white:__Verify__ the **Signature**;
                   if (Signature matches Public key?) then (no)
                       #pink:Error;
                       end
                   else (yes)
                       #palegreen:Persist credential;
                       stop
                   endif
                endif
            endif
        endif
    endif
endif
@enduml

PlantUML version 1.2022.2beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>